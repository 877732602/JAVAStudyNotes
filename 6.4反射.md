# 6.4反射

### 一、Java语言的反射机制：

* 1、在`Java`运行时环境中，对于任意一个类，皆可**知道这个类有哪些属性和方法。对于任意一个对象，可以调用它的任意一个方法**。这种动态获取类的信息以及动态调用对象的方法的功能来自于`Java` 语言的反射（ `Reflection`）机制。 

*  2、Java 反射机制的功能

   * 在运行时判断任意一个对象所属的类。 

   * 在运行时构造任意一个类的对象。 

   * 在运行时判断任意一个类所具有的成员变量和方法。 

   * 在运行时调用任意一个对象的方法

* 3、Reflection 是 Java 被视为动态（或准动态）语言的一个关键性质。

   * 这个机制允许程序在运行时透过`Reflection APIs`取得任何一个**已知名称**的`class`的内部信息，包括其 修饰符（`modifiers` 诸如 `public`, `static` 等等）、`superclass`（ 例如 `Object`）、实现之`interfaces`（例如 `Serializable`） ，也包括 `fields` 和 `methods` 的所有信息，**并可于运行时改变 `fields` 内容或调用 `methods`**。

   * **通过反射，可以调用一个类的 私有方法 和改变 私有成员变量，打破类的包装机制，实现正常情况下无法实现的需求。**


* 4、动态语言：**程序运行时，允许改变程序结构或变量类型，这种语言称为动态语言**。从这个观点看，`Perl`，`Python` ，`Ruby`是动态语言，`C++`，`Java`，`C#` 不是动态语言

* 5、尽管在这样的定义与分类下Java不是动态语言， 它却有着一个非常突出的动态相关机制： `Reflection`。这个字的意思是  **反射、映象、倒影** ，用在Java身上指的是我们可以**在运行时加载、探知、使用编译期间完全未知的classes**。换句话说，Java程序可以加载一个运行时才得知名称的class，获悉其完整构造（但不包括 methods定义），并生成其对象实体、或对其 fields设值、或唤起其methods。

     * 这种“看透 class”的能力（the ability of the program to examine itself）被称为introspection（内省、 内观、反省）。Reflection和introspection是常被并提的两个术语
































