# 4.2String类

* String 是常量，其对象一旦创建完毕就无法改变。当使用+拼接字符串时，会生成新 的 String 对象，而不是向原有的 String 对象追加内容。 

### 一、equals()方法

* 1、Object类中的equals()方法

      public boolean equals(Object obj) {
          return (this == obj);
      }

* 2、String类中的equals()方法

      private final char value[];
      
      public boolean equals(Object anObject) {
          if (this == anObject) {
              return true;
          }
          if (anObject instanceof String) {
              String anotherString = (String)anObject;
              int n = value.length;
              if (n == anotherString.value.length) {
                  char v1[] = value;
                  char v2[] = anotherString.value;
                  int i = 0;
                  while (n-- != 0) {
                      if (v1[i] != v2[i])
                          return false;
                      i++;
                  }
                  return true;
              }
          }
          return false;
      }

* 3、equals()方法分析

  *  equals()方法，该方法定义在 Object 类当中，因此 Java 中的每个类都具有该方法， 对于 Object 类的 equals()方法来说，它是判断调用 equals()方法的引用与传进来的引用是否一致，即这两个引用是否指向的是同一个对象。
  
  * 对于 Object 类的 equals()方 法来说，它等价于==。（`==`比较地址是否相同）
  
  * 对于 String 类的 equals()方法来说，它是判断当前字符串与传进来的字符串的内容 是否一致。
  
  * 对于 String 对象的相等性判断来说，请使用 equals()方法，切勿使用`==`。 
  
### 二、 字符串池（String Pool） 

* 1、`String s = "aaa";`（采用字面值方式赋值） 
  
     * 1>首先查找 String Pool 中是否存在“aaa”这个对象，如果不存在，则在 String Pool 中创建 一个“aaa”对象，然后将 String Pool 中的这个“aaa”对象的地址返回来，赋给引用变量 s，这样 s 会指向 String Pool 中的这个“aaa”字符串对象 
     
     * 2>如果存在，则不创建任何对象，直接将 String Pool 中的这个“aaa”对象地址返回来， 赋给 s 引用。

* 2、`String s = new String(“aaa”); `

     * 1>首先在 String Pool 中查找有没有“aaa”这个字符串对象，如果有，则不在 String Pool 中再去创建“aaa”这个对象了，直接在堆中（heap）中创建一个“aaa”字符串对象，然后将堆中的这个“aaa”对象的地址返回来，赋给 s 引用，导致 s 指向了堆中创建的这个“aaa”字符串对象。 
     
     * 2>如果没有，则首先在 String Pool 中创建一个“aaa“对象，然后再在堆中（heap）创 建一个”aaa“对象，然后将堆中的这个”aaa“对象的地址返回来，赋给 s 引用， 导致 s 指向了堆中所创建的这个”aaa“对象。 









































